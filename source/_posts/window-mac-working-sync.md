---
title: 同步你的window和mac工作环境
date: 2017-07-01 13:09:28
tags:
---

我公司的电脑是mac，家里的电脑是windows，有时候不想带电脑回家，或者不想放着家里台式机强悍的性能浪费。还有我那快生灰的信仰键盘，hhkb。。。 所以我幻想着有一天能够什么都不带，**在任何平台**都可以开始我的工作。。

然而现实总是很残酷的。除了文件同步这个关键功能外，还有各个平台的差异性，如何统一，也是非常麻烦的。比如按键，比如开发工具，比如平台的生态环境等等。 
所以我的需求总结起来也就是如下：

1. 文件同步
2. 开发工具统一
3. 按键统一

## 文件同步

其实比较好的方式，是用**云同步盘**，自动同步window和mac端的文件，可惜金山快盘倒了以后就没有比较好的跨平台同步盘了。 别的软件，比如百度同步盘，坚果等，在不同平台表现差异比较大，还出现过文件丢失的情况。

无奈之下只好使用git了,我们需要同步的东西，大多数是项目工程，或者配置文件等等。所以拆分成git项目，其实也是有助于我们的管理的。避免出现同步很大，很杂的东西，毕竟不是网盘。

放在git上，也有个问题，那就是安全性了。有些东西不好放在外面，隐私性要求高，同时能也不喜欢GitHub的高额收费。。。所以这里我选择了gitlab，**可以无限制的创建私有项目**，体验也与github差不多，如果哪一天想开源了，就转到GitHub上就行。

所以每天开发完毕要记得同步git。


## 开发工具

我认为开发工具应该有2个，一个是小巧的文本编辑器，一个是强大的ide, 各司其职。
我选择了**vscode和webstorm**，这2个工具都是跨平台的，对前端开发很友好。

> 配置同步

 webstorm依然可以借助git，导出setting.jar
 vscode可以使用sync的插件，利用GitHub的gist，它其实本质上是一个简化的git仓库。
 要注意的是这个功能需要2个秘钥，一个是GitHub生产的，用于上传，一个是gist生产的，用于下载, **这2个秘钥都要记得保存，它只能看1次**。
 sync这个插件还有一个能力，是区分平台配置，比如在mac和windows上的按键配置会自动区分，并保存，linux上会不会再区分一个，这个没试过。 详情使用可以看sync的插件说明

> shell

 还有一项必不可少的工具就是shell了。
 开发者当然是离不开shell的了，如果你能，那当我没说。。。。
 mac上的终端工具很多，windows就比较麻烦了, 自带的cmd惨不忍睹，powershell也不支持bash的命令。**解决方案是安装git bash**，选择**嵌入比较深**的那个解决方案，这样在cmd，和powershell里面也可以使用一些常用的shell命令了。

 好在vscode和webstorm都支持内嵌终端模拟器，可以选择自定义shell, 在windows上推荐用powershell，比cmd和git bash 自带的模拟环境干净不少。

> cros-env

还有个问题是，在windows上不支持带环境变量的shell命令，比如   NODE_ENV=dev npm run dev , 会认为是非法命令。
解决方法是安装一个叫cors-env的一个npm包，在执行的命令前面加上cros就行了。



## 按键统一

习惯了mac的按键，windows的按键极不顺手，特别是对于键盘党来说。 这里使用autokey这个软件，在windows上模拟mac的按键。 献上[官方文档](https://autohotkey.com/docs/Tutorial.htm)

autokey这个软件挺强的，也不需要重新启动，只要运行脚本就好了，不想用了或者想换一个，就把程序关掉就好了。

一个比较坑的点是，某些绑定在cmd上的系统快捷会与软件的冲突，软件没法使用了,解决方案是使用 autokey 映射cmd + x 到别的已经有的按键绑定，其实本质的按键绑定没有改变
比如 cmd + i  映射到 ctrl + `  autokey key还可以使用send 语法发送按键信息，给软件

这是我写好的脚本，基本实现一致的编程体验， 欢迎自取修改
[autokey脚本](https://github.com/Alan110/autokey-mac)


好了，可以愉快的写代码了，have  fun ！！




